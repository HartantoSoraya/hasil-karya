import{u as x}from"./materialMovement-e98d519d.js";import{u as P}from"./driver-4b8ac86d.js";import{u as S}from"./truck-17634e1b.js";import{u as U}from"./station-56b545b2.js";import{u as h}from"./checker-8e08a759.js";import{j as q,P as u,r as i,Q as z,X as Q,l as X,n as A,q as r,c as o,S as G,I as H,x as a,s as J}from"./index-d8570b98.js";import{V as m,b as L,a as T}from"./VRow-ae8b4a94.js";import{V as W}from"./VForm-c95c40f9.js";import{V as d}from"./VTextField-d53f6a8a.js";import{c as n}from"./VSelect-e5c25370.js";import{V as Y}from"./VTextarea-c1327748.js";import"./VGrid-aa4a8c47.js";import"./forwardRefs-49923578.js";import"./VMenu-f39875ea.js";import"./VOverlay-f87aa014.js";import"./VSelectionControl-d26b90d8.js";const Z=J("h2",{class:"mb-0"}," Material Movement ",-1),Ve={__name:"material-movement",setup($){const D=q(),{drivers:R}=u(P()),{trucks:w}=u(S()),{stations:I}=u(U()),{checkers:C}=u(h()),{fetchDrivers:K}=P(),{fetchTrucks:B}=S(),{fetchStations:O}=U(),{fetchCheckers:E}=h();K(),B(),O(),E();const{loading:ee,error:l}=u(x()),{fetchMaterialMovement:N}=x(),j=D.params.id,v=i(""),c=i(""),p=i(""),_=i(""),f=i(""),V=i(new Date(Date.now()-new Date().getTimezoneOffset()*6e4).toISOString().substr(0,16)),g=i(""),b=i(""),k=i(""),y=i(""),M=i(""),F=async()=>{try{const s=await N(j);v.value=s.code,c.value=s.driver.id,p.value=s.truck.id,_.value=s.station.id,f.value=s.checker.id,V.value=s.date,g.value=s.observation_ratio_percentage*100,b.value=s.observation_ratio_number*1,k.value=s.solid_ratio*100,y.value=s.solid_volume_estimate*1,M.value=s.remarks}catch(s){console.error(s)}};return z(()=>{F(),document.title="Edit Material Movement"}),Q(()=>{l.value=null}),(s,t)=>(X(),A(T,null,{default:r(()=>[o(m,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:r(()=>[Z,o(G,{to:{name:"admin-material-movement"},color:"primary"},{default:r(()=>[H(" Kembali ")]),_:1})]),_:1}),o(m,{cols:"12"},{default:r(()=>[o(L,null,{default:r(()=>[o(W,null,{default:r(()=>[o(T,null,{default:r(()=>[o(m,{cols:"12",md:"6"},{default:r(()=>[o(d,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),label:"Kode",placeholder:"Kode Material Movement","error-messages":a(l)&&a(l).code?[a(l).code]:[],readonly:""},null,8,["modelValue","error-messages"])]),_:1}),o(m,{cols:"12",md:"6"},{default:r(()=>[o(d,{modelValue:V.value,"onUpdate:modelValue":t[1]||(t[1]=e=>V.value=e),label:"Tanggal",placeholder:"Tanggal Material Movement","error-messages":a(l)&&a(l).date?[a(l).date]:[],type:"datetime-local",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),o(m,{cols:"12",md:"6"},{default:r(()=>[o(n,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e),items:a(R),label:"Driver",placeholder:"Pilih Driver","error-messages":a(l)&&a(l).driver_id?[a(l).driver_id]:[],"item-title":e=>e.name,"item-value":e=>e.id,readonly:""},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(m,{cols:"12",md:"6"},{default:r(()=>[o(n,{modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=e=>p.value=e),items:a(w),label:"Truck",placeholder:"Pilih Truck","error-messages":a(l)&&a(l).truck_id?[a(l).truck_id]:[],"item-title":e=>e.name,"item-value":e=>e.id,readonly:""},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(m,{cols:"12",md:"6"},{default:r(()=>[o(n,{modelValue:_.value,"onUpdate:modelValue":t[4]||(t[4]=e=>_.value=e),items:a(I),label:"POS",placeholder:"Pilih POS","error-messages":a(l)&&a(l).station_id?[a(l).station_id]:[],"item-title":e=>e.name,"item-value":e=>e.id,readonly:""},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(m,{cols:"12",md:"6"},{default:r(()=>[o(n,{modelValue:f.value,"onUpdate:modelValue":t[5]||(t[5]=e=>f.value=e),items:a(C),label:"Pemeriksa",placeholder:"Pilih Pemeriksa","error-messages":a(l)&&a(l).checker_id?[a(l).checker_id]:[],"item-title":e=>e.name,"item-value":e=>e.id,readonly:""},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(m,{cols:"12",md:"6"},{default:r(()=>[o(d,{modelValue:g.value,"onUpdate:modelValue":t[6]||(t[6]=e=>g.value=e),label:"Presentase Rasio Index",placeholder:"Presentase Rasio Index","error-messages":a(l)&&a(l).observation_ratio_percentage?[a(l).observation_ratio_percentage]:[],type:"number",step:"1",suffix:"%",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),o(m,{cols:"12",md:"6"},{default:r(()=>[o(d,{modelValue:b.value,"onUpdate:modelValue":t[7]||(t[7]=e=>b.value=e),label:"Rasio Index",placeholder:"Rasio Index","error-messages":a(l)&&a(l).observation_ratio_number?[a(l).observation_ratio_number]:[],type:"number",suffix:"m³",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),o(m,{cols:"12",md:"6"},{default:r(()=>[o(d,{modelValue:k.value,"onUpdate:modelValue":t[8]||(t[8]=e=>k.value=e),label:"Rasio Padat",placeholder:"Rasio Padat","error-messages":a(l)&&a(l).solid_ratio?[a(l).solid_ratio]:[],type:"number",step:"1",suffix:"%",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),o(m,{cols:"12",md:"6"},{default:r(()=>[o(d,{modelValue:y.value,"onUpdate:modelValue":t[9]||(t[9]=e=>y.value=e),label:"Estimasi Volume",placeholder:"Estimasi Volume","error-messages":a(l)&&a(l).solid_volume_estimate?[a(l).solid_volume_estimate]:[],type:"number",suffix:"m³",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),o(m,{cols:"12",md:"12"},{default:r(()=>[o(Y,{modelValue:M.value,"onUpdate:modelValue":t[10]||(t[10]=e=>M.value=e),label:"Keterangan",placeholder:"Keterangan Material Movement","error-messages":a(l)&&a(l).remarks?[a(l).remarks]:[],readonly:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{Ve as default};
