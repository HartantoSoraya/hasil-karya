import{P as S,r,Q as W,X as Y,w as y,l as Z,n as $,q as o,c as l,S as U,I as x,T as ee,x as a,s as ae}from"./index-d8570b98.js";import{u as B}from"./station-56b545b2.js";import{u as P}from"./region-9ed148fc.js";import{u as k}from"./material-094c0868.js";import{V as i,b as te,a as D}from"./VRow-ae8b4a94.js";import{V as le}from"./VForm-c95c40f9.js";import{V as F}from"./VTextField-d53f6a8a.js";import{V as d}from"./VAutocomplete-90f07087.js";import{V as se}from"./VTextarea-c1327748.js";import"./VGrid-aa4a8c47.js";import"./forwardRefs-49923578.js";import"./VSelect-e5c25370.js";import"./VMenu-f39875ea.js";import"./VOverlay-f87aa014.js";import"./VSelectionControl-d26b90d8.js";const oe=ae("h2",{class:"mb-0"}," Tambah Station ",-1),Ue={__name:"create-station",setup(ie){const{categories:O,loading:j,error:t}=S(B()),{createStation:q,fetchStationCategories:I}=B();I();const{provinces:K,regencies:N,districts:T,subdistricts:w}=S(P()),{fetchProvinces:Q,fetchRegencies:X,fetchDistricts:z,fetchSubdistricts:E}=P();Q();const{materials:G}=S(k()),{fetchMaterials:H}=k();H();const p=r("AUTO"),f=r(""),n=r(""),c=r(""),v=r(""),V=r(""),g=r(""),b=r(""),_=r(""),R=()=>{p.value="AUTO",f.value="",n.value="",c.value="",v.value="",V.value="",g.value="",b.value="",_.value=""},J=()=>{var A,C,M,h;const m=(A=K.value.find(u=>u.id===n.value))==null?void 0:A.nama,s=(C=N.value.find(u=>u.id===c.value))==null?void 0:C.nama,e=(M=T.value.find(u=>u.id===v.value))==null?void 0:M.nama,L=(h=w.value.find(u=>u.id===V.value))==null?void 0:h.nama;q({code:p.value,name:f.value,province:m,regency:s,district:e,subdistrict:L,address:g.value,category:b.value,material_id:_.value,is_active:1})};return W(()=>{document.title="Tambah Station"}),Y(()=>{R(),t.value=null}),y(n,m=>{X(m)}),y(c,m=>{z(m)}),y(v,m=>{E(m)}),(m,s)=>(Z(),$(D,null,{default:o(()=>[l(i,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:o(()=>[oe,l(U,{to:"/admin/station",color:"primary"},{default:o(()=>[x(" Kembali ")]),_:1})]),_:1}),l(i,{cols:"12"},{default:o(()=>[l(te,null,{default:o(()=>[l(le,{onSubmit:ee(J,["prevent"])},{default:o(()=>[l(D,null,{default:o(()=>[l(i,{cols:"12",md:"6"},{default:o(()=>[l(F,{modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=e=>p.value=e),label:"Kode",placeholder:"Kode Station","error-messages":a(t)&&a(t).code?[a(t).code]:[]},null,8,["modelValue","error-messages"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(F,{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=e=>f.value=e),label:"Nama",placeholder:"Nama Station","error-messages":a(t)&&a(t).name?[a(t).name]:[]},null,8,["modelValue","error-messages"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(d,{modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=e=>n.value=e),label:"Provinsi",items:a(K),"error-messages":a(t)&&a(t).province?[a(t).province]:[],"item-title":e=>e.nama,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(d,{modelValue:c.value,"onUpdate:modelValue":s[3]||(s[3]=e=>c.value=e),label:"Kabupaten/Kota",items:a(N),"error-messages":a(t)&&a(t).regency?[a(t).regency]:[],"item-title":e=>e.nama,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(d,{modelValue:v.value,"onUpdate:modelValue":s[4]||(s[4]=e=>v.value=e),label:"Kecamatan",items:a(T),"error-messages":a(t)&&a(t).district?[a(t).district]:[],"item-title":e=>e.nama,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(d,{modelValue:V.value,"onUpdate:modelValue":s[5]||(s[5]=e=>V.value=e),label:"Kelurahan/Desa",items:a(w),"error-messages":a(t)&&a(t).subdistrict?[a(t).subdistrict]:[],"item-title":e=>e.nama,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),l(i,{cols:"12",md:"12"},{default:o(()=>[l(se,{modelValue:g.value,"onUpdate:modelValue":s[6]||(s[6]=e=>g.value=e),label:"Alamat",placeholder:"Alamat Station","error-messages":a(t)&&a(t).address?[a(t).address]:[]},null,8,["modelValue","error-messages"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(d,{modelValue:b.value,"onUpdate:modelValue":s[7]||(s[7]=e=>b.value=e),label:"Kategori",items:a(O),"item-title":"name","item-value":"name",placeholder:"Pilih Kategori Station","error-messages":a(t)&&a(t).category?[a(t).category]:[]},null,8,["modelValue","items","error-messages"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(d,{modelValue:_.value,"onUpdate:modelValue":s[8]||(s[8]=e=>_.value=e),label:"Material",items:a(G),"error-messages":a(t)&&a(t).material_id?[a(t).material_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),l(i,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[l(U,{type:"submit",loading:a(j),color:"primary"},{default:o(()=>[x(" Simpan ")]),_:1},8,["loading"]),l(U,{color:"secondary",variant:"tonal",onClick:R},{default:o(()=>[x(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{Ue as default};
