import{u as _}from"./materialMovement-e64c2953.js";import{f as y,t as d,a as C}from"./formatters-c9e1f9c6.js";import{R as T,r as P,S as D,_ as R,k as A,l as f,J as B,x as l,n as N,q as a,c as t,I as o,v as r,Y as n,A as h,O as E,K as S,s as U}from"./index-b8bb9b87.js";import{b as x,d as z,e as K,V as u,a as F}from"./VRow-d63588e1.js";import{V as I}from"./VDialog-7855c666.js";import{V as O}from"./VTextField-d716ff87.js";import"./VGrid-89f96509.js";import"./VOverlay-b398b44b.js";import"./forwardRefs-e658ad70.js";import"./index-e196a5dc.js";const j=U("h2",{class:"mb-0"}," Perpindahan Material ",-1),aa={__name:"material-movements",setup(q){const V=[{text:"Tanggal",value:"date"},{text:"Driver",value:"driver.name",width:200},{text:"Truck",value:"truck.name",width:200},{text:"POS",value:"station.name",width:200},{text:"Material",value:"station.material.name",width:200},{text:"Pemeriksa",value:"checker.name",width:200},{text:"Kapasitas Truk",value:"truck_capacity",width:200},{text:"Rasio Index",value:"observation_ratio",width:200},{text:"Rasio Padat",value:"solid_ratio",width:200},{text:"Estimasi Volume",value:"solid_volume_estimate",width:200},{text:"Keterangan",value:"remarks",width:200},{text:"Aksi",value:"operation",width:300}],{movements:k,loading:c,error:w,success:s}=T(_()),{fetchMaterialMovements:p,deleteMaterialMovement:g}=_();p();async function b(v){confirm("Apakah Anda yakin ingin menghapus Perpindahan material ini?")&&(await g(v.id),p())}const m=P("");return D(()=>{document.title="Perpindahan Material"}),R(()=>{w.value=null}),(v,i)=>{const M=A("EasyDataTable");return f(),B(S,null,[l(s)?(f(),N(I,{key:0,modelValue:l(s),"onUpdate:modelValue":i[1]||(i[1]=e=>h(s)?s.value=e:null),"max-width":"400"},{default:a(()=>[t(x,null,{default:a(()=>[t(z,null,{default:a(()=>[o(r(l(s)),1)]),_:1}),t(K,null,{default:a(()=>[t(n,{color:"primary",text:"",onClick:i[0]||(i[0]=()=>s.value=null)},{default:a(()=>[o(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):E("",!0),t(F,null,{default:a(()=>[t(u,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:a(()=>[j,t(n,{to:{name:"admin-material-movement-create"},color:"primary"},{default:a(()=>[o(" Tambah Perpindahan Material ")]),_:1})]),_:1}),t(u,{cols:"12"},{default:a(()=>[t(O,{modelValue:l(m),"onUpdate:modelValue":i[2]||(i[2]=e=>h(m)?m.value=e:null),label:"Cari Perpindahan Material",placeholder:"Cari Perpindahan Material",clearable:"",loading:l(c),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),t(u,{cols:"12"},{default:a(()=>[t(x,null,{default:a(()=>[t(M,{headers:V,items:l(k),loading:l(c),"search-value":l(m),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-date":a(e=>[o(r(l(y)(e.date)),1)]),"item-truck_capacity":a(e=>[o(r(l(d)(e.truck_capacity))+" m³ ",1)]),"item-observation_ratio":a(e=>[o(r(l(d)(e.observation_ratio))+" m³ ("+r(l(C)(e.observation_ratio/e.truck_capacity))+") ",1)]),"item-solid_ratio":a(e=>[o(r(l(d)(e.solid_ratio)),1)]),"item-solid_volume_estimate":a(e=>[o(r(l(d)(e.solid_volume_estimate))+" m³ ",1)]),"item-operation":a(e=>[t(n,{to:{name:"admin-material-movement-edit",params:{id:e.id}},color:"primary",size:"small",class:"m-5"},{default:a(()=>[o(" Ubah ")]),_:2},1032,["to"]),t(n,{to:{name:"admin-material-movement-view",params:{id:e.id}},color:"info",size:"small"},{default:a(()=>[o(" Detail ")]),_:2},1032,["to"]),t(n,{color:"error",size:"small",class:"m-5",onClick:()=>b(e)},{default:a(()=>[o(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{aa as default};
