import{P as V,H as E,r as s,Q as G,X as I,l as B,J,x as l,n as Q,q as o,c as a,I as f,v as X,S as g,A as j,O as z,T as W,K as Y}from"./index-d8570b98.js";import{u as b}from"./fuelLog-8188d5dc.js";import{u as A}from"./driver-4b8ac86d.js";import{u as U}from"./heavyVehicle-a6827fb6.js";import{u as C}from"./station-56b545b2.js";import{b as T,d as Z,e as $,V as u,a as H}from"./VRow-ae8b4a94.js";import{V as ee}from"./VDialog-029e5a82.js";import{V as le}from"./VForm-c95c40f9.js";import{V as h}from"./VAutocomplete-90f07087.js";import{V as D}from"./VTextField-d53f6a8a.js";import{V as ae}from"./VTextarea-c1327748.js";import"./VGrid-aa4a8c47.js";import"./VOverlay-f87aa014.js";import"./forwardRefs-49923578.js";import"./VSelect-e5c25370.js";import"./VMenu-f39875ea.js";import"./VSelectionControl-d26b90d8.js";const xe={__name:"create-fuel-log-heavy-vehicle",setup(te){const{drivers:F}=V(A()),{heavyVehicles:M}=V(U()),{stations:O}=V(C()),{user:y,checkAuth:P}=E(),{fetchDrivers:R}=A(),{fetchHeavyVehicles:w}=U(),{fetchStations:K}=C();R(),w(),K({type:"gas_station"}),P();const{success:i,loading:L,error:t}=V(b()),{createFuelLogHeavyVehicleGasOperator:N}=b(),S=s("AUTO"),m=s(""),d=s(""),n=s(""),x=s(y.gas_operator.id),k=s("diesel"),v=s(""),p=s(""),c=s(""),_=()=>{S.value="AUTO",m.value="",d.value="",n.value="",x.value=y.gas_operator.id,k.value="diesel",v.value="",p.value="",c.value=""},q=()=>{N({code:S.value,heavy_vehicle_id:m.value,driver_id:d.value,station_id:n.value,gas_operator_id:x.value,fuel_type:k.value,volume:v.value,hourmeter:p.value,remarks:c.value}),_()};return G(()=>{document.title="Catat BBM Alat Berat"}),I(()=>{_(),t.value=null}),(oe,r)=>(B(),J(Y,null,[l(i)?(B(),Q(ee,{key:0,modelValue:l(i),"onUpdate:modelValue":r[1]||(r[1]=e=>j(i)?i.value=e:null),"max-width":"400"},{default:o(()=>[a(T,null,{default:o(()=>[a(Z,null,{default:o(()=>[f(X(l(i)),1)]),_:1}),a($,null,{default:o(()=>[a(g,{color:"primary",text:"",onClick:r[0]||(r[0]=()=>i.value=null)},{default:o(()=>[f(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):z("",!0),a(H,null,{default:o(()=>[a(u,{cols:"12"},{default:o(()=>[a(T,null,{default:o(()=>[a(le,{onSubmit:W(q,["prevent"])},{default:o(()=>[a(H,null,{default:o(()=>[a(u,{cols:"12",md:"6"},{default:o(()=>[a(h,{modelValue:d.value,"onUpdate:modelValue":r[2]||(r[2]=e=>d.value=e),items:l(F),label:"Driver",placeholder:"Pilih Driver","error-messages":l(t)&&l(t).driver_id?[l(t).driver_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(h,{modelValue:m.value,"onUpdate:modelValue":r[3]||(r[3]=e=>m.value=e),items:l(M),label:"Alat Berat",placeholder:"Pilih Alat Berat","error-messages":l(t)&&l(t).heavy_vehicle_id?[l(t).heavy_vehicle_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),a(u,{cols:"12",md:"12"},{default:o(()=>[a(h,{modelValue:n.value,"onUpdate:modelValue":r[4]||(r[4]=e=>n.value=e),items:l(O),label:"POS",placeholder:"Pilih POS","error-messages":l(t)&&l(t).station_id?[l(t).station_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(D,{modelValue:v.value,"onUpdate:modelValue":r[5]||(r[5]=e=>v.value=e),label:"Volume",placeholder:"Volume BBM","error-messages":l(t)&&l(t).volume?[l(t).volume]:[]},null,8,["modelValue","error-messages"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(D,{modelValue:p.value,"onUpdate:modelValue":r[6]||(r[6]=e=>p.value=e),label:"Hourmeter",placeholder:"Hourmeter","error-messages":l(t)&&l(t).hourmeter?[l(t).hourmeter]:[]},null,8,["modelValue","error-messages"])]),_:1}),a(u,{cols:"12",md:"12"},{default:o(()=>[a(ae,{modelValue:c.value,"onUpdate:modelValue":r[7]||(r[7]=e=>c.value=e),label:"Keterangan",placeholder:"Keterangan Material Movement","error-messages":l(t)&&l(t).remarks?[l(t).remarks]:[]},null,8,["modelValue","error-messages"])]),_:1}),a(u,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[a(g,{type:"submit",loading:l(L),color:"primary"},{default:o(()=>[f(" Simpan ")]),_:1},8,["loading"]),a(g,{color:"secondary",variant:"tonal",onClick:_},{default:o(()=>[f(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64))}};export{xe as default};
