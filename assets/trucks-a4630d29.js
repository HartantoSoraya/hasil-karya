import{u as f}from"./truck-a3e50338.js";import{t as A}from"./formatters-c9e1f9c6.js";import{d as R}from"./qrHelper-021e5488.js";import{R as U,r as B,S as N,_ as z,k as S,l as k,J as E,x as l,n as F,q as a,c as e,I as r,v as _,Y as i,A as v,O as K,K as M,s as Q}from"./index-b8bb9b87.js";import{b as V,d as P,e as j,V as c,a as q}from"./VRow-d63588e1.js";import{V as H}from"./VDialog-7855c666.js";import{V as I}from"./VTextField-d716ff87.js";import{V as J}from"./VSwitch-ac70ffe9.js";import"./VGrid-89f96509.js";import"./VOverlay-b398b44b.js";import"./forwardRefs-e658ad70.js";import"./index-e196a5dc.js";import"./VSelectionControl-7fa3b263.js";const O=Q("h2",{class:"mb-0"}," Truck ",-1),sa={__name:"trucks",setup(Y){const T=[{text:"Kode",value:"code"},{text:"Merek",value:"brand"},{text:"Model",value:"model"},{text:"Tahun Produksi",value:"production_year"},{text:"Vendor",value:"vendor.name"},{text:"Kapasitas",value:"capacity"},{text:"Aktif",value:"is_active"},{text:"Aksi",value:"operation",width:400}],{trucks:x,loading:m,error:C,success:s}=U(f()),{fetchTrucks:d,deleteTruck:h,activateTruck:y}=f();d();async function g(n){confirm("Apakah Anda yakin ingin menghapus truk ini?")&&(await h(n.id),d())}async function b(n){const o=new FormData;o.append("is_active",n.is_active?1:0),await y(n.id,o),d()}const u=B("");function w(n,o){R(n,"Truck "+o)}return N(()=>{document.title="Truck"}),z(()=>{C.value=null}),(n,o)=>{const D=S("EasyDataTable");return k(),E(M,null,[l(s)?(k(),F(H,{key:0,modelValue:l(s),"onUpdate:modelValue":o[1]||(o[1]=t=>v(s)?s.value=t:null),"max-width":"400"},{default:a(()=>[e(V,null,{default:a(()=>[e(P,null,{default:a(()=>[r(_(l(s)),1)]),_:1}),e(j,null,{default:a(()=>[e(i,{color:"primary",text:"",onClick:o[0]||(o[0]=()=>s.value=null)},{default:a(()=>[r(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):K("",!0),e(q,null,{default:a(()=>[e(c,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:a(()=>[O,e(i,{to:{name:"admin-truck-create"},color:"primary"},{default:a(()=>[r(" Tambah Truck ")]),_:1})]),_:1}),e(c,{cols:"12"},{default:a(()=>[e(I,{modelValue:l(u),"onUpdate:modelValue":o[2]||(o[2]=t=>v(u)?u.value=t:null),label:"Cari Truck",placeholder:"Cari Truck",clearable:"",loading:l(m),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),e(c,{cols:"12"},{default:a(()=>[e(V,null,{default:a(()=>[e(D,{headers:T,items:l(x),loading:l(m),"search-value":l(u),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-capacity":a(t=>[r(_(l(A)(t.capacity))+" mÂ³ ",1)]),"item-is_active":a(t=>[e(J,{modelValue:t.is_active,"onUpdate:modelValue":p=>t.is_active=p,color:"primary",onChange:()=>b(t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-operation":a(t=>[e(i,{color:"info",size:"small",class:"m-5",onClick:p=>w(t.id,t.brand+" "+t.model)},{default:a(()=>[r(" Print QR Code ")]),_:2},1032,["onClick"]),e(i,{to:{name:"admin-truck-edit",params:{id:t.id}},color:"primary",size:"small",class:"m-5"},{default:a(()=>[r(" Ubah ")]),_:2},1032,["to"]),e(i,{to:{name:"admin-truck-view",params:{id:t.id}},color:"info",size:"small"},{default:a(()=>[r(" Detail ")]),_:2},1032,["to"]),e(i,{color:"error",size:"small",class:"m-5",onClick:()=>g(t)},{default:a(()=>[r(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{sa as default};
