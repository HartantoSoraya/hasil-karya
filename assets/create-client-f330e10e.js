import{P as k,r as m,Q as z,X as G,w as y,l as H,n as J,q as o,c as t,S as U,I as T,T as L,x as l,s as W}from"./index-d8570b98.js";import{u as P}from"./client-8eddd01b.js";import{u as D}from"./region-9ed148fc.js";import{V as r,b as Y,a as E}from"./VRow-ae8b4a94.js";import{V as Z}from"./VForm-c95c40f9.js";import{V as _}from"./VTextField-d53f6a8a.js";import{V as C}from"./VAutocomplete-90f07087.js";import{V as $}from"./VTextarea-c1327748.js";import"./VGrid-aa4a8c47.js";import"./forwardRefs-49923578.js";import"./VSelect-e5c25370.js";import"./VMenu-f39875ea.js";import"./VOverlay-f87aa014.js";import"./VSelectionControl-d26b90d8.js";const ee=W("h2",{class:"mb-0"}," Tambah Client ",-1),Ve={__name:"create-client",setup(le){const{loading:F,error:a}=k(P()),{createClient:M}=P(),{provinces:x,regencies:N,districts:K,subdistricts:S}=k(D()),{fetchProvinces:O,fetchRegencies:j,fetchDistricts:q,fetchSubdistricts:I}=D();O();const v=m("AUTO"),p=m(""),d=m(""),n=m(""),c=m(""),f=m(""),V=m(""),g=m(""),b=m(""),h=()=>{v.value="AUTO",p.value="",d.value="",n.value="",c.value="",f.value="",V.value="",g.value="",b.value=""},Q=()=>{var w,R,A,B;const i=(w=x.value.find(u=>u.id===d.value))==null?void 0:w.nama,s=(R=N.value.find(u=>u.id===n.value))==null?void 0:R.nama,e=(A=K.value.find(u=>u.id===c.value))==null?void 0:A.nama,X=(B=S.value.find(u=>u.id===f.value))==null?void 0:B.nama;M({code:v.value,name:p.value,province:i,regency:s,district:e,subdistrict:X,address:V.value,phone:g.value,email:b.value})};return z(()=>{document.title="Tambah Client"}),G(()=>{h(),a.value=null}),y(d,i=>{j(i)}),y(n,i=>{q(i)}),y(c,i=>{I(i)}),(i,s)=>(H(),J(E,null,{default:o(()=>[t(r,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:o(()=>[ee,t(U,{to:"/admin/client",color:"primary"},{default:o(()=>[T(" Kembali ")]),_:1})]),_:1}),t(r,{cols:"12"},{default:o(()=>[t(Y,null,{default:o(()=>[t(Z,{onSubmit:L(Q,["prevent"])},{default:o(()=>[t(E,null,{default:o(()=>[t(r,{cols:"12",md:"6"},{default:o(()=>[t(_,{modelValue:v.value,"onUpdate:modelValue":s[0]||(s[0]=e=>v.value=e),label:"Kode",placeholder:"Kode Client","error-messages":l(a)&&l(a).code?[l(a).code]:[]},null,8,["modelValue","error-messages"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(_,{modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=e=>p.value=e),label:"Nama",placeholder:"Nama Client","error-messages":l(a)&&l(a).name?[l(a).name]:[]},null,8,["modelValue","error-messages"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(C,{modelValue:d.value,"onUpdate:modelValue":s[2]||(s[2]=e=>d.value=e),label:"Provinsi",items:l(x),"error-messages":l(a)&&l(a).province?[l(a).province]:[],"item-title":e=>e.nama,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(C,{modelValue:n.value,"onUpdate:modelValue":s[3]||(s[3]=e=>n.value=e),label:"Kabupaten/Kota",items:l(N),"error-messages":l(a)&&l(a).regency?[l(a).regency]:[],"item-title":e=>e.nama,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(C,{modelValue:c.value,"onUpdate:modelValue":s[4]||(s[4]=e=>c.value=e),label:"Kecamatan",items:l(K),"error-messages":l(a)&&l(a).district?[l(a).district]:[],"item-title":e=>e.nama,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(C,{modelValue:f.value,"onUpdate:modelValue":s[5]||(s[5]=e=>f.value=e),label:"Kelurahan/Desa",items:l(S),"error-messages":l(a)&&l(a).subdistrict?[l(a).subdistrict]:[],"item-title":e=>e.nama,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(r,{cols:"12",md:"12"},{default:o(()=>[t($,{modelValue:V.value,"onUpdate:modelValue":s[6]||(s[6]=e=>V.value=e),label:"Alamat",placeholder:"Alamat Client","error-messages":l(a)&&l(a).address?[l(a).address]:[]},null,8,["modelValue","error-messages"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(_,{modelValue:g.value,"onUpdate:modelValue":s[7]||(s[7]=e=>g.value=e),label:"Telepon",placeholder:"Telepon Client","error-messages":l(a)&&l(a).phone?[l(a).phone]:[]},null,8,["modelValue","error-messages"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(_,{modelValue:b.value,"onUpdate:modelValue":s[8]||(s[8]=e=>b.value=e),label:"Email",placeholder:"Email Client","error-messages":l(a)&&l(a).email?[l(a).email]:[]},null,8,["modelValue","error-messages"])]),_:1}),t(r,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[t(U,{type:"submit",loading:l(F),color:"primary"},{default:o(()=>[T(" Simpan ")]),_:1},8,["loading"]),t(U,{color:"secondary",variant:"tonal",onClick:h},{default:o(()=>[T(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{Ve as default};
