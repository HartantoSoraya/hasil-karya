import{d as D}from"./qrHelper-021e5488.js";import{u as p}from"./station-a95b2555.js";import{R as T,r as A,S as R,_ as U,k as B,l as _,J as N,x as l,n as z,q as a,c as e,I as i,v as E,Y as r,A as V,O as F,K,s as Q}from"./index-b8bb9b87.js";import{b as v,d as M,e as P,V as m,a as j}from"./VRow-d63588e1.js";import{V as q}from"./VDialog-7855c666.js";import{V as H}from"./VTextField-d716ff87.js";import{V as I}from"./VSwitch-ac70ffe9.js";import"./VGrid-89f96509.js";import"./VOverlay-b398b44b.js";import"./forwardRefs-e658ad70.js";import"./index-e196a5dc.js";import"./VSelectionControl-7fa3b263.js";const J=Q("h2",{class:"mb-0"}," Station ",-1),na={__name:"stations",setup(O){const C=[{text:"Kode",value:"code",width:200},{text:"Nama",value:"name"},{text:"Kategori",value:"category"},{text:"Muatan",value:"material.name"},{text:"Aktif",value:"is_active"},{text:"Aksi",value:"operation",width:400}],{stations:h,loading:c,error:x,success:s}=T(p()),{fetchStations:u,deleteStation:g,activateStation:S}=p();u();async function k(n){confirm("Apakah Anda yakin ingin menghapus stasiun ini?")&&(await g(n.id),u())}async function w(n){const o=new FormData;o.append("is_active",n.is_active?1:0),await S(n.id,o),u()}const d=A("");function y(n,o){D(n,"Pos "+o)}return R(()=>{document.title="Station"}),U(()=>{x.value=null}),(n,o)=>{const b=B("EasyDataTable");return _(),N(K,null,[l(s)?(_(),z(q,{key:0,modelValue:l(s),"onUpdate:modelValue":o[1]||(o[1]=t=>V(s)?s.value=t:null),"max-width":"400"},{default:a(()=>[e(v,null,{default:a(()=>[e(M,null,{default:a(()=>[i(E(l(s)),1)]),_:1}),e(P,null,{default:a(()=>[e(r,{color:"primary",text:"",onClick:o[0]||(o[0]=()=>s.value=null)},{default:a(()=>[i(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):F("",!0),e(j,null,{default:a(()=>[e(m,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:a(()=>[J,e(r,{to:{name:"admin-station-create"},color:"primary"},{default:a(()=>[i(" Tambah Station ")]),_:1})]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(H,{modelValue:l(d),"onUpdate:modelValue":o[2]||(o[2]=t=>V(d)?d.value=t:null),label:"Cari Station",placeholder:"Cari Station",clearable:"",loading:l(c),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(v,null,{default:a(()=>[e(b,{headers:C,items:l(h),loading:l(c),"search-value":l(d),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-is_active":a(t=>[e(I,{modelValue:t.is_active,"onUpdate:modelValue":f=>t.is_active=f,color:"primary",onChange:()=>w(t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-operation":a(t=>[e(r,{color:"info",size:"small",class:"m-5",onClick:f=>y(t.id,t.name)},{default:a(()=>[i(" Print QR Code ")]),_:2},1032,["onClick"]),e(r,{to:{name:"admin-station-edit",params:{id:t.id}},color:"primary",size:"small",class:"m-5"},{default:a(()=>[i(" Ubah ")]),_:2},1032,["to"]),e(r,{to:{name:"admin-station-view",params:{id:t.id}},color:"info",size:"small"},{default:a(()=>[i(" Detail ")]),_:2},1032,["to"]),e(r,{color:"error",size:"small",class:"m-5",onClick:()=>k(t)},{default:a(()=>[i(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{na as default};
