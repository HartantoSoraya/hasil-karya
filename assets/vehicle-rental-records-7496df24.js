import{u as y}from"./vehicleRentalRecord-ebc9f440.js";import{f as V,b as P}from"./formatters-87109f83.js";import{P as S,r as A,Q as U,X as N,k as z,l as r,J as d,x as n,n as v,q as e,c as t,I as o,v as s,S as u,A as g,O as m,K as E,s as F}from"./index-d8570b98.js";import{b as k,d as H,e as I,V as h,a as J}from"./VRow-ae8b4a94.js";import{V as j}from"./VDialog-029e5a82.js";import{V as q}from"./VTextField-d53f6a8a.js";import{V as L}from"./VSwitch-eb604b8d.js";import{a as M}from"./VGrid-aa4a8c47.js";import"./VOverlay-f87aa014.js";import"./forwardRefs-49923578.js";import"./VSelectionControl-d26b90d8.js";const O=F("h2",{class:"mb-0"}," Catatan Penyewaan Kendaraan ",-1),Q={key:0},X={key:1},G={key:0},W={key:1},Y={key:1},ca={__name:"vehicle-rental-records",setup(Z){const w=[{text:"Kode",value:"code",width:100},{text:"Jenis Kendaraan",value:"type"},{text:"Nama Truk/Alat Berat",value:"brand"},{text:"Tanggal Sewa",value:"start_date"},{text:"Lama Sewa",value:"rental_duration"},{text:"Tanggal Kembali",value:"end_date"},{text:"Harga Sewa",value:"rental_cost"},{text:"Status Bayar",value:"is_paid"},{text:"Bukti Pembayaran",value:"payment_proof_image"},{text:"Aksi",value:"operation",width:300}],{vehicleRentalRecords:x,loading:f,error:C,success:i}=S(y()),{fetchVehicleRentalRecords:_,deleteVehicleRentalRecord:b,paymentVehicleRentalRecord:R}=y();_();async function T(c){confirm("Apakah Anda yakin ingin menghapus catatan penyewaan kendaraan ini?")&&(await b(c.id),_())}async function B(c){const l=new FormData;l.append("is_paid",c.is_paid?1:0),await R(c.id,l),_()}const p=A("");return U(()=>{document.title="Catatan Penyewaan Kendaraan"}),N(()=>{C.value=null}),(c,l)=>{const D=z("EasyDataTable");return r(),d(E,null,[n(i)?(r(),v(j,{key:0,modelValue:n(i),"onUpdate:modelValue":l[1]||(l[1]=a=>g(i)?i.value=a:null),"max-width":"400"},{default:e(()=>[t(k,null,{default:e(()=>[t(H,null,{default:e(()=>[o(s(n(i)),1)]),_:1}),t(I,null,{default:e(()=>[t(u,{color:"primary",text:"",onClick:l[0]||(l[0]=()=>i.value=null)},{default:e(()=>[o(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):m("",!0),t(J,null,{default:e(()=>[t(h,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[O,t(u,{to:{name:"admin-vehicle-rental-record-create"},color:"primary"},{default:e(()=>[o(" Tambah Catatan Penyewaan Kendaraan ")]),_:1})]),_:1}),t(h,{cols:"12"},{default:e(()=>[t(q,{modelValue:n(p),"onUpdate:modelValue":l[2]||(l[2]=a=>g(p)?p.value=a:null),label:"Cari Catatan Penyewaan Kendaraan",placeholder:"Cari Catatan Penyewaan Kendaraan",clearable:"",loading:n(f),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),t(h,{cols:"12"},{default:e(()=>[t(k,null,{default:e(()=>[t(D,{headers:w,items:n(x),loading:n(f),"search-value":n(p),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-type":e(a=>[a.truck?(r(),d("span",Q,"Truk")):m("",!0),a.heavy_vehicle?(r(),d("span",X,"Alat Berat")):m("",!0)]),"item-brand":e(a=>[a.truck?(r(),d("span",G,s(a.truck.brand)+" "+s(a.truck.model),1)):m("",!0),a.heavy_vehicle?(r(),d("span",W,s(a.heavy_vehicle.brand)+" "+s(a.heavy_vehicle.model),1)):m("",!0)]),"item-start_date":e(a=>[o(s(n(V)(a.start_date)),1)]),"item-end_date":e(a=>[o(s(n(V)(a.end_date)),1)]),"item-rental_cost":e(a=>[o(s(n(P)(a.rental_cost)),1)]),"item-is_paid":e(a=>[t(L,{modelValue:a.is_paid,"onUpdate:modelValue":K=>a.is_paid=K,color:"primary",onChange:()=>B(a)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-payment_proof_image":e(a=>[a.payment_proof_image?(r(),v(M,{key:0,src:a.payment_proof_image_url,width:"100",height:"100",contain:""},null,8,["src"])):(r(),d("span",Y,"-"))]),"item-operation":e(a=>[t(u,{to:{name:"admin-vehicle-rental-record-edit",params:{id:a.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[o(" Ubah ")]),_:2},1032,["to"]),t(u,{to:{name:"admin-vehicle-rental-record-view",params:{id:a.id}},color:"info",size:"small"},{default:e(()=>[o(" Detail ")]),_:2},1032,["to"]),t(u,{color:"error",size:"small",class:"m-5",onClick:()=>T(a)},{default:e(()=>[o(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{ca as default};
