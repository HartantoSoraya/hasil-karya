import{j as B,P as b,r as u,Q as N,l as P,n as j,q as l,c as e,S as f,I as _,T as A,x as a,s as E}from"./index-d8570b98.js";import{u as g}from"./truck-17634e1b.js";import{u as T}from"./vendor-1d98b441.js";import{V as d,b as F,a as h}from"./VRow-ae8b4a94.js";import{V as I}from"./VForm-c95c40f9.js";import{V as n}from"./VTextField-d53f6a8a.js";import{V as q}from"./VAutocomplete-90f07087.js";import"./VGrid-aa4a8c47.js";import"./forwardRefs-49923578.js";import"./VSelect-e5c25370.js";import"./VMenu-f39875ea.js";import"./VOverlay-f87aa014.js";import"./VSelectionControl-d26b90d8.js";const D=E("h2",{class:"mb-0"}," Edit Truck ",-1),oe={__name:"edit-truck",setup(O){const x=B(),{loading:U,error:o}=b(g()),{fetchTruck:C,updateTruck:M}=g(),{vendors:S}=b(T()),{fetchVendors:w}=T();w();const k=x.params.id,m=u("AUTO"),i=u(""),c=u(""),p=u(0),v=u(""),V=u(),y=u(1),K=async()=>{try{const s=await C(k);m.value=s.code,i.value=s.brand,c.value=s.model,p.value=s.capacity,v.value=s.production_year,V.value=s.vendor.id,y.value=s.is_active===!0?1:0}catch(s){console.error(s)}};N(()=>{K(),document.title="Edit Truck"});const R=()=>{M({id:k,code:m.value,brand:i.value,model:c.value,capacity:p.value,production_year:v.value,vendor_id:V.value,is_active:y.value})};return(s,t)=>(P(),j(h,null,{default:l(()=>[e(d,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:l(()=>[D,e(f,{to:{name:"admin-truck"},color:"primary"},{default:l(()=>[_(" Kembali ")]),_:1})]),_:1}),e(d,{cols:"12"},{default:l(()=>[e(F,null,{default:l(()=>[e(I,{onSubmit:A(R,["prevent"])},{default:l(()=>[e(h,null,{default:l(()=>[e(d,{cols:"12",md:"6"},{default:l(()=>[e(n,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=r=>m.value=r),label:"Kode",placeholder:"Kode Checker","error-messages":a(o)&&a(o).code?[a(o).code]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",md:"6"},{default:l(()=>[e(n,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=r=>i.value=r),label:"Merk",placeholder:"Merk","error-messages":a(o)&&a(o).brand?[a(o).brand]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",md:"6"},{default:l(()=>[e(n,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=r=>c.value=r),label:"Model",placeholder:"Model","error-messages":a(o)&&a(o).model?[a(o).model]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",md:"6"},{default:l(()=>[e(n,{modelValue:v.value,"onUpdate:modelValue":t[3]||(t[3]=r=>v.value=r),label:"Tahun Produksi",placeholder:"Tahun Produksi","error-messages":a(o)&&a(o).production_year?[a(o).production_year]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",md:"6"},{default:l(()=>[e(q,{modelValue:V.value,"onUpdate:modelValue":t[4]||(t[4]=r=>V.value=r),items:a(S),"item-title":r=>r.name,"item-value":r=>r.id,label:"Vendor",placeholder:"Vendor","error-messages":a(o)&&a(o).vendor_id?[a(o).vendor_id]:[]},null,8,["modelValue","items","item-title","item-value","error-messages"])]),_:1}),e(d,{cols:"12",md:"6"},{default:l(()=>[e(n,{modelValue:p.value,"onUpdate:modelValue":t[5]||(t[5]=r=>p.value=r),label:"Kapasitas",placeholder:"Kapasitas","error-messages":a(o)&&a(o).capacity?[a(o).capacity]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[e(f,{type:"submit",loading:a(U),color:"primary"},{default:l(()=>[_(" Simpan ")]),_:1},8,["loading"]),e(f,{color:"secondary",variant:"tonal",onClick:s.handleReset},{default:l(()=>[_(" Reset ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{oe as default};
