import{P as g,r as d,Q as S,X as C,l as R,n as w,q as o,c as l,S as V,I as f,T as H,x as e,A as p,s as K}from"./index-d8570b98.js";import{u as h}from"./heavyVehicle-a6827fb6.js";import{u as T}from"./vendor-1d98b441.js";import{V as s,b as N,a as x}from"./VRow-ae8b4a94.js";import{V as P}from"./VForm-c95c40f9.js";import{V as v}from"./VTextField-d53f6a8a.js";import{V as F}from"./VAutocomplete-90f07087.js";import"./VGrid-aa4a8c47.js";import"./forwardRefs-49923578.js";import"./VSelect-e5c25370.js";import"./VMenu-f39875ea.js";import"./VOverlay-f87aa014.js";import"./VSelectionControl-d26b90d8.js";const O=K("h2",{class:"mb-0"}," Tambah Alat Berat ",-1),ee={__name:"create-heavy-vehicle",setup(j){const{loading:k,error:a}=g(h()),{createHeavyVehicle:U}=h(),{vendors:A}=g(T()),{fetchVendors:B}=T();B();const u=d("AUTO"),n=d(""),m=d(""),_=d(0),i=d(""),c=d(),b=d(1),y=()=>{u.value="AUTO",n.value="",m.value="",_.value=0,i.value="",c.value=0,b.value=1},M=()=>{U({code:u.value,brand:n.value,model:m.value,capacity:_.value,production_year:i.value,vendor_id:c.value,is_active:b.value})};return S(()=>{document.title="Tambah Alat Berat"}),C(()=>{y(),a.value=null}),(q,t)=>(R(),w(x,null,{default:o(()=>[l(s,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:o(()=>[O,l(V,{to:"/admin/heavy-vehicle",color:"primary"},{default:o(()=>[f(" Kembali ")]),_:1})]),_:1}),l(s,{cols:"12"},{default:o(()=>[l(N,null,{default:o(()=>[l(P,{onSubmit:H(M,["prevent"])},{default:o(()=>[l(x,null,{default:o(()=>[l(s,{cols:"12",md:"6"},{default:o(()=>[l(v,{modelValue:e(u),"onUpdate:modelValue":t[0]||(t[0]=r=>p(u)?u.value=r:null),label:"Kode",placeholder:"Kode Checker","error-messages":e(a)&&e(a).code?[e(a).code]:[]},null,8,["modelValue","error-messages"])]),_:1}),l(s,{cols:"12",md:"6"},{default:o(()=>[l(v,{modelValue:e(n),"onUpdate:modelValue":t[1]||(t[1]=r=>p(n)?n.value=r:null),label:"Merk",placeholder:"Merk","error-messages":e(a)&&e(a).brand?[e(a).brand]:[]},null,8,["modelValue","error-messages"])]),_:1}),l(s,{cols:"12",md:"6"},{default:o(()=>[l(v,{modelValue:e(m),"onUpdate:modelValue":t[2]||(t[2]=r=>p(m)?m.value=r:null),label:"Model",placeholder:"Model","error-messages":e(a)&&e(a).model?[e(a).model]:[]},null,8,["modelValue","error-messages"])]),_:1}),l(s,{cols:"12",md:"6"},{default:o(()=>[l(v,{modelValue:e(i),"onUpdate:modelValue":t[3]||(t[3]=r=>p(i)?i.value=r:null),label:"Tahun Produksi",placeholder:"Tahun Produksi","error-messages":e(a)&&e(a).production_year?[e(a).production_year]:[]},null,8,["modelValue","error-messages"])]),_:1}),l(s,{cols:"12",md:"12"},{default:o(()=>[l(F,{modelValue:e(c),"onUpdate:modelValue":t[4]||(t[4]=r=>p(c)?c.value=r:null),items:e(A),"item-title":r=>r.name,"item-value":r=>r.id,label:"Vendor",placeholder:"Vendor","error-messages":e(a)&&e(a).vendor_id?[e(a).vendor_id]:[]},null,8,["modelValue","items","item-title","item-value","error-messages"])]),_:1}),l(s,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[l(V,{type:"submit",loading:e(k),color:"primary"},{default:o(()=>[f(" Simpan ")]),_:1},8,["loading"]),l(V,{color:"secondary",variant:"tonal",onClick:y},{default:o(()=>[f(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ee as default};
