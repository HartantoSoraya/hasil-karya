import{u as p}from"./technicalAdmin-5ea7466e.js";import{P as y,r as b,Q as D,X as U,k as B,l as f,J as N,x as n,n as E,q as a,c as e,I as o,v as S,S as d,A as h,O as z,K as F,s as R}from"./index-d8570b98.js";import{b as V,d as K,e as j,V as r,a as q}from"./VRow-ae8b4a94.js";import{V as H}from"./VDialog-029e5a82.js";import{V as I}from"./VTextField-d53f6a8a.js";import{V as J}from"./VSwitch-eb604b8d.js";import"./VGrid-aa4a8c47.js";import"./VOverlay-f87aa014.js";import"./forwardRefs-49923578.js";import"./VSelectionControl-d26b90d8.js";const M=R("h2",{class:"mb-0"}," Admin Teknik ",-1),ea={__name:"technical-admins",setup(O){const _=[{text:"Kode",value:"code",width:200},{text:"Nama",value:"name"},{text:"Email",value:"email"},{text:"Aktif",value:"is_active"},{text:"Aksi",value:"operation",width:300}],{technicalAdmins:v,loading:u,error:k,success:i}=y(p()),{fetchTechnicalAdmins:c,deleteTechnicalAdmin:A,activateTechnicalAdmin:T}=p();c();async function x(s){confirm("Apakah Anda yakin ingin menghapus technicalAdmin ini?")&&(await A(s.id),c())}async function g(s){const t=new FormData;t.append("is_active",s.is_active?1:0),await T(s.id,t),c()}const m=b("");return D(()=>{document.title="Admin Teknik"}),U(()=>{k.value=null}),(s,t)=>{const C=B("EasyDataTable");return f(),N(F,null,[n(i)?(f(),E(H,{key:0,modelValue:n(i),"onUpdate:modelValue":t[1]||(t[1]=l=>h(i)?i.value=l:null),"max-width":"400"},{default:a(()=>[e(V,null,{default:a(()=>[e(K,null,{default:a(()=>[o(S(n(i)),1)]),_:1}),e(j,null,{default:a(()=>[e(d,{color:"primary",text:"",onClick:t[0]||(t[0]=()=>i.value=null)},{default:a(()=>[o(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):z("",!0),e(q,null,{default:a(()=>[e(r,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:a(()=>[M,e(d,{to:"/admin/technical-admin/create",color:"primary"},{default:a(()=>[o(" Tambah Admin Teknik ")]),_:1})]),_:1}),e(r,{cols:"12"},{default:a(()=>[e(I,{modelValue:n(m),"onUpdate:modelValue":t[2]||(t[2]=l=>h(m)?m.value=l:null),label:"Cari Admin Teknik",placeholder:"Cari Admin Teknik",clearable:"",loading:n(u),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),e(r,{cols:"12"},{default:a(()=>[e(V,null,{default:a(()=>[e(C,{headers:_,items:n(v),loading:n(u),"search-value":n(m),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-is_active":a(l=>[e(J,{modelValue:l.is_active,"onUpdate:modelValue":w=>l.is_active=w,color:"primary",onChange:()=>g(l)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-operation":a(l=>[e(d,{to:{name:"admin-technical-admin-edit",params:{id:l.id}},color:"primary",size:"small",class:"m-5"},{default:a(()=>[o(" Ubah ")]),_:2},1032,["to"]),e(d,{to:{name:"admin-technical-admin-view",params:{id:l.id}},color:"info",size:"small"},{default:a(()=>[o(" Detail ")]),_:2},1032,["to"]),e(d,{color:"error",size:"small",class:"m-5",onClick:()=>x(l)},{default:a(()=>[o(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{ea as default};
