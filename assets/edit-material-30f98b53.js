import{j as w,P as N,r as _,Q as R,l as S,n as B,q as a,c as e,S as u,I as c,T as C,x as l,s as T}from"./index-d8570b98.js";import{u as V}from"./material-094c0868.js";import{V as r,b as k,a as g}from"./VRow-ae8b4a94.js";import{V as K}from"./VForm-c95c40f9.js";import{V as b}from"./VTextField-d53f6a8a.js";import"./VGrid-aa4a8c47.js";import"./forwardRefs-49923578.js";const j=T("h2",{class:"mb-0"}," Edit Material ",-1),z={__name:"edit-material",setup(E){const v=w(),{loading:o,error:t}=N(V()),{fetchMaterial:M,updateMaterial:y}=V(),f=v.params.id,d=_(""),i=_(""),p=async()=>{try{const s=await M(f);d.value=s.code,i.value=s.name}catch(s){console.error(s)}};R(()=>{p(),document.title="Edit Material"});const x=()=>{y({id:f,code:d.value,name:i.value})},h=()=>{p()};return(s,n)=>(S(),B(g,null,{default:a(()=>[e(r,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:a(()=>[j,e(u,{to:"/admin/material",color:"primary"},{default:a(()=>[c(" Kembali ")]),_:1})]),_:1}),e(r,{cols:"12"},{default:a(()=>[e(k,null,{default:a(()=>[e(K,{onSubmit:C(x,["prevent"])},{default:a(()=>[e(g,null,{default:a(()=>[e(r,{cols:"12",md:"6"},{default:a(()=>[e(b,{modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=m=>d.value=m),label:"Kode",placeholder:"Kode Material","error-messages":l(t)&&l(t).code?[l(t).code]:[],disabled:l(o),loading:l(o)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),e(r,{cols:"12",md:"6"},{default:a(()=>[e(b,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=m=>i.value=m),label:"Nama",placeholder:"Nama Material","error-messages":l(t)&&l(t).name?[l(t).name]:[],disabled:l(o),loading:l(o)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),e(r,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[e(u,{type:"submit",loading:l(o),color:"primary"},{default:a(()=>[c(" Simpan ")]),_:1},8,["loading"]),e(u,{type:"reset",color:"secondary",variant:"tonal",onClick:h},{default:a(()=>[c(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{z as default};
