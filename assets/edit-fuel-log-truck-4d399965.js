import{R as _,j as Z,r as d,S as z,l as E,n as H,q as t,c as o,Y as S,I as T,Z as J,x as l,s as Q}from"./index-b8bb9b87.js";import{u as x}from"./gasOperator-57fc2c15.js";import{u as W}from"./fuelLog-f3558dde.js";import{u as B}from"./driver-ab7ed4fc.js";import{u as M}from"./truck-a3e50338.js";import{u as P}from"./station-a95b2555.js";import{V as u,b as X,a as D}from"./VRow-d63588e1.js";import{V as $}from"./VForm-b1764071.js";import{V as k}from"./VTextField-d716ff87.js";import{V as b}from"./VAutocomplete-33816023.js";import{V as ee}from"./VTextarea-0d842cdd.js";import"./VGrid-89f96509.js";import"./forwardRefs-e658ad70.js";import"./index-e196a5dc.js";import"./VSelect-e149f7f0.js";import"./VMenu-e6957ca7.js";import"./VDivider-a85c5ebc.js";import"./VOverlay-b398b44b.js";import"./VSelectionControl-7fa3b263.js";import"./VChip-6ed5d59d.js";const le=Q("h2",{class:"mb-0"}," Ubah Data Pengisian BBM Truk ",-1),ye={__name:"edit-fuel-log-truck",setup(ae){const{drivers:F}=_(B()),{trucks:L}=_(M()),{stations:O}=_(P()),{fetchDrivers:R}=B(),{fetchTrucks:w}=M(),{fetchStations:K}=P();R(),w(),K();const C=Z(),{gasOperators:N,loading:j,error:a}=_(x()),{fetchGasOperators:G}=x();G();const{fetchFuelLog:I,updateFuelLogTruck:q}=W(),y=C.params.id,m=d(""),i=d(""),n=d(""),p=d(""),v=d(""),c=d(""),h=d("diesel"),f=d(""),g=d(""),V=d(""),U=async()=>{try{const s=await I(y);m.value=s.code,i.value=s.date,n.value=s.gas_operator.id,p.value=s.truck.id,v.value=s.driver.id,c.value=s.station.id,h.value=s.fuel_type,f.value=s.volume*1,g.value=s.odometer*1,V.value=s.remarks}catch(s){console.error(s)}};z(()=>{U(),document.title="Ubah Data Pengisian BBM Truk"});const A=()=>{q({id:y,code:m.value,date:i.value,gas_operator_id:n.value,truck_id:p.value,driver_id:v.value,station_id:c.value,fuel_type:h.value,volume:f.value,odometer:g.value,remarks:V.value})},Y=()=>{U()};return(s,r)=>(E(),H(D,null,{default:t(()=>[o(u,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:t(()=>[le,o(S,{to:"/admin/fuel-log",color:"primary"},{default:t(()=>[T(" Kembali ")]),_:1})]),_:1}),o(u,{cols:"12"},{default:t(()=>[o(X,null,{default:t(()=>[o($,{onSubmit:J(A,["prevent"])},{default:t(()=>[o(D,null,{default:t(()=>[o(u,{cols:"12",md:"6"},{default:t(()=>[o(k,{modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=e=>m.value=e),label:"Kode",placeholder:"Kode","error-messages":l(a)&&l(a).code?[l(a).code]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(k,{modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=e=>i.value=e),label:"Tanggal",placeholder:"Tanggal Mulai","error-messages":l(a)&&l(a).date?[l(a).date]:[],type:"datetime-local"},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(b,{modelValue:n.value,"onUpdate:modelValue":r[2]||(r[2]=e=>n.value=e),items:l(N),label:"Solar Man",placeholder:"Pilih Solar Man","error-messages":l(a)&&l(a).gas_operator_id?[l(a).gas_operator_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(b,{modelValue:v.value,"onUpdate:modelValue":r[3]||(r[3]=e=>v.value=e),items:l(F),label:"Driver",placeholder:"Pilih Driver","error-messages":l(a)&&l(a).driver_id?[l(a).driver_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(b,{modelValue:p.value,"onUpdate:modelValue":r[4]||(r[4]=e=>p.value=e),items:l(L),label:"Truk",placeholder:"Pilih Truk","error-messages":l(a)&&l(a).truck_id?[l(a).truck_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(b,{modelValue:c.value,"onUpdate:modelValue":r[5]||(r[5]=e=>c.value=e),items:l(O),label:"POS",placeholder:"Pilih POS","error-messages":l(a)&&l(a).station_id?[l(a).station_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(k,{modelValue:f.value,"onUpdate:modelValue":r[6]||(r[6]=e=>f.value=e),label:"Volume",placeholder:"Volume BBM","error-messages":l(a)&&l(a).volume?[l(a).volume]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(k,{modelValue:g.value,"onUpdate:modelValue":r[7]||(r[7]=e=>g.value=e),label:"Odometer",placeholder:"Odometer","error-messages":l(a)&&l(a).odometer?[l(a).odometer]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",md:"12"},{default:t(()=>[o(ee,{modelValue:V.value,"onUpdate:modelValue":r[8]||(r[8]=e=>V.value=e),label:"Keterangan",placeholder:"Keterangan Material Movement","error-messages":l(a)&&l(a).remarks?[l(a).remarks]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[o(S,{type:"submit",loading:l(j),color:"primary"},{default:t(()=>[T(" Simpan ")]),_:1},8,["loading"]),o(S,{color:"secondary",variant:"tonal",onClick:Y},{default:t(()=>[T(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ye as default};
