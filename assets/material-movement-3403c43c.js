import{u as x}from"./materialMovement-e64c2953.js";import{u as S}from"./driver-ab7ed4fc.js";import{u as T}from"./truck-a3e50338.js";import{u as h}from"./station-a95b2555.js";import{u as U}from"./checker-01526226.js";import{j as q,R as d,r as i,S as z,_ as Y,l as A,n as G,q as r,c as t,Y as H,I as J,x as a,s as L}from"./index-b8bb9b87.js";import{t as Q}from"./formatters-c9e1f9c6.js";import{V as m,b as W,a as P}from"./VRow-d63588e1.js";import{V as X}from"./VForm-b1764071.js";import{V as u}from"./VTextField-d716ff87.js";import{b as n}from"./VSelect-e149f7f0.js";import{V as Z}from"./VTextarea-0d842cdd.js";import"./VGrid-89f96509.js";import"./forwardRefs-e658ad70.js";import"./index-e196a5dc.js";import"./VMenu-e6957ca7.js";import"./VDivider-a85c5ebc.js";import"./VOverlay-b398b44b.js";import"./VSelectionControl-7fa3b263.js";import"./VChip-6ed5d59d.js";const $=L("h2",{class:"mb-0"}," Perpindahan Material ",-1),Me={__name:"material-movement",setup(ee){const D=q(),{drivers:R}=d(S()),{trucks:w}=d(T()),{stations:K}=d(h()),{checkers:C}=d(U()),{fetchDrivers:I}=S(),{fetchTrucks:B}=T(),{fetchStations:N}=h(),{fetchCheckers:O}=U();I(),B(),N(),O();const{loading:ae,error:l}=d(x()),{fetchMaterialMovement:j}=x(),E=D.params.id,c=i(""),v=i(""),p=i(""),f=i(""),V=i(""),_=i(new Date(Date.now()-new Date().getTimezoneOffset()*6e4).toISOString().substr(0,16)),g=i(""),k=i(""),y=i(""),b=i(""),M=i(""),F=async()=>{try{const s=await j(E);c.value=s.code,v.value=s.driver.id,p.value=s.truck.id,f.value=s.station.id,V.value=s.checker.id,_.value=s.date,g.value=s.truck_capacity*1,k.value=s.observation_ratio*1,y.value=Q(s.solid_ratio),b.value=s.solid_volume_estimate*1,M.value=s.remarks}catch(s){console.error(s)}};return z(()=>{F(),document.title="Detail Material Movement"}),Y(()=>{l.value=null}),(s,o)=>(A(),G(P,null,{default:r(()=>[t(m,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:r(()=>[$,t(H,{to:{name:"admin-material-movement"},color:"primary"},{default:r(()=>[J(" Kembali ")]),_:1})]),_:1}),t(m,{cols:"12"},{default:r(()=>[t(W,null,{default:r(()=>[t(X,null,{default:r(()=>[t(P,null,{default:r(()=>[t(m,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=e=>c.value=e),label:"Kode",placeholder:"Kode Material Movement","error-messages":a(l)&&a(l).code?[a(l).code]:[],readonly:""},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:_.value,"onUpdate:modelValue":o[1]||(o[1]=e=>_.value=e),label:"Tanggal",placeholder:"Tanggal Material Movement","error-messages":a(l)&&a(l).date?[a(l).date]:[],type:"datetime-local",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(n,{modelValue:v.value,"onUpdate:modelValue":o[2]||(o[2]=e=>v.value=e),items:a(R),label:"Driver",placeholder:"Pilih Driver","error-messages":a(l)&&a(l).driver_id?[a(l).driver_id]:[],"item-title":e=>e.name,"item-value":e=>e.id,readonly:""},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(n,{modelValue:p.value,"onUpdate:modelValue":o[3]||(o[3]=e=>p.value=e),items:a(w),label:"Truck",placeholder:"Pilih Truck","error-messages":a(l)&&a(l).truck_id?[a(l).truck_id]:[],"item-title":e=>e.name,"item-value":e=>e.id,readonly:""},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(n,{modelValue:f.value,"onUpdate:modelValue":o[4]||(o[4]=e=>f.value=e),items:a(K),label:"POS",placeholder:"Pilih POS","error-messages":a(l)&&a(l).station_id?[a(l).station_id]:[],"item-title":e=>e.name,"item-value":e=>e.id,readonly:""},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(n,{modelValue:V.value,"onUpdate:modelValue":o[5]||(o[5]=e=>V.value=e),items:a(C),label:"Pemeriksa",placeholder:"Pilih Pemeriksa","error-messages":a(l)&&a(l).checker_id?[a(l).checker_id]:[],"item-title":e=>e.name,"item-value":e=>e.id,readonly:""},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:g.value,"onUpdate:modelValue":o[6]||(o[6]=e=>g.value=e),label:"Kapasitas Truck",placeholder:"Kapasitas Truck","error-messages":a(l)&&a(l).truck_capacity?[a(l).truck_capacity]:[],type:"number",step:"1",suffix:"m³",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:k.value,"onUpdate:modelValue":o[7]||(o[7]=e=>k.value=e),label:"Rasio Index",placeholder:"Rasio Index","error-messages":a(l)&&a(l).observation_ratio?[a(l).observation_ratio]:[],type:"number",suffix:"m³",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:y.value,"onUpdate:modelValue":o[8]||(o[8]=e=>y.value=e),label:"Rasio Padat",placeholder:"Rasio Padat","error-messages":a(l)&&a(l).solid_ratio?[a(l).solid_ratio]:[],type:"number",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:b.value,"onUpdate:modelValue":o[9]||(o[9]=e=>b.value=e),label:"Estimasi Volume",placeholder:"Estimasi Volume","error-messages":a(l)&&a(l).solid_volume_estimate?[a(l).solid_volume_estimate]:[],type:"number",suffix:"m³",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"12"},{default:r(()=>[t(Z,{modelValue:M.value,"onUpdate:modelValue":o[10]||(o[10]=e=>M.value=e),label:"Keterangan",placeholder:"Keterangan Material Movement","error-messages":a(l)&&a(l).remarks?[a(l).remarks]:[],readonly:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{Me as default};
