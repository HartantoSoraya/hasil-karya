import{j as w,P as N,r as c,Q as R,l as S,n as k,q as a,c as e,S as m,I as f,T as B,x as o,s as T}from"./index-d8570b98.js";import{u as V}from"./driver-4b8ac86d.js";import{V as s,b as K,a as g}from"./VRow-ae8b4a94.js";import{V as j}from"./VForm-c95c40f9.js";import{V as b}from"./VTextField-d53f6a8a.js";import"./VGrid-aa4a8c47.js";import"./forwardRefs-49923578.js";const E=T("h2",{class:"mb-0"}," Edit Driver ",-1),A={__name:"edit-driver",setup(F){const y=w(),{loading:r,error:t}=N(V()),{fetchDriver:h,updateDriver:x}=V(),v=y.params.id,d=c(""),i=c(""),_=c(0),p=async()=>{try{const l=await h(v);d.value=l.code,i.value=l.name,_.value=l.is_active===!0?1:0}catch(l){console.error(l)}};R(()=>{p(),document.title="Edit Driver"});const D=()=>{x({id:v,code:d.value,name:i.value,is_active:_.value})},C=()=>{p()};return(l,n)=>(S(),k(g,null,{default:a(()=>[e(s,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:a(()=>[E,e(m,{to:{name:"admin-driver"},color:"primary"},{default:a(()=>[f(" Kembali ")]),_:1})]),_:1}),e(s,{cols:"12"},{default:a(()=>[e(K,null,{default:a(()=>[e(j,{onSubmit:B(D,["prevent"])},{default:a(()=>[e(g,null,{default:a(()=>[e(s,{cols:"12",md:"6"},{default:a(()=>[e(b,{modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=u=>d.value=u),label:"Kode",placeholder:"Kode Checker","error-messages":o(t)&&o(t).code?[o(t).code]:[],disabled:o(r),loading:o(r)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),e(s,{cols:"12",md:"6"},{default:a(()=>[e(b,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=u=>i.value=u),label:"Nama",placeholder:"Nama Client","error-messages":o(t)&&o(t).name?[o(t).name]:[],disabled:o(r),loading:o(r)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),e(s,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[e(m,{type:"submit",loading:o(r),color:"primary"},{default:a(()=>[f(" Simpan ")]),_:1},8,["loading"]),e(m,{type:"reset",color:"secondary",variant:"tonal",onClick:C},{default:a(()=>[f(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{A as default};
