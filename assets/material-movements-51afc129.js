import{u as v}from"./materialMovement-e98d519d.js";import{f as C,a as f,t as d}from"./formatters-87109f83.js";import{P,r as T,Q as D,X as R,k as A,l as h,J as B,x as o,n as N,q as e,c as t,I as l,v as r,S as s,A as x,O as E,K as S,s as U}from"./index-d8570b98.js";import{b as V,d as z,e as I,V as u,a as K}from"./VRow-ae8b4a94.js";import{V as F}from"./VDialog-029e5a82.js";import{V as O}from"./VTextField-d53f6a8a.js";import"./VGrid-aa4a8c47.js";import"./VOverlay-f87aa014.js";import"./forwardRefs-49923578.js";const j=U("h2",{class:"mb-0"}," Perpindahan Material ",-1),$={__name:"material-movements",setup(q){const b=[{text:"Tanggal",value:"date"},{text:"Driver",value:"driver.name",width:200},{text:"Truck",value:"truck.name",width:200},{text:"POS",value:"station.name",width:200},{text:"Material",value:"station.material.name",width:200},{text:"Pemeriksa",value:"checker.name",width:200},{text:"Presentase Rasio Index",value:"observation_ratio_percentage",width:200},{text:"Kapasitas Truk",value:"truck_capacity",width:200},{text:"Rasio Index",value:"observation_ratio_number",width:200},{text:"Rasio Padat",value:"solid_ratio",width:200},{text:"Estimasi Volume",value:"solid_volume_estimate",width:200},{text:"Keterangan",value:"remarks",width:200},{text:"Aksi",value:"operation",width:300}],{movements:k,loading:c,error:g,success:n}=P(v()),{fetchMaterialMovements:p,deleteMaterialMovement:w}=v();p();async function M(_){confirm("Apakah Anda yakin ingin menghapus Perpindahan material ini?")&&(await w(_.id),p())}const m=T("");return D(()=>{document.title="Material Movement"}),R(()=>{g.value=null}),(_,i)=>{const y=A("EasyDataTable");return h(),B(S,null,[o(n)?(h(),N(F,{key:0,modelValue:o(n),"onUpdate:modelValue":i[1]||(i[1]=a=>x(n)?n.value=a:null),"max-width":"400"},{default:e(()=>[t(V,null,{default:e(()=>[t(z,null,{default:e(()=>[l(r(o(n)),1)]),_:1}),t(I,null,{default:e(()=>[t(s,{color:"primary",text:"",onClick:i[0]||(i[0]=()=>n.value=null)},{default:e(()=>[l(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):E("",!0),t(K,null,{default:e(()=>[t(u,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[j,t(s,{to:{name:"admin-material-movement-create"},color:"primary"},{default:e(()=>[l(" Tambah Perpindahan Material ")]),_:1})]),_:1}),t(u,{cols:"12"},{default:e(()=>[t(O,{modelValue:o(m),"onUpdate:modelValue":i[2]||(i[2]=a=>x(m)?m.value=a:null),label:"Cari Perpindahan Material",placeholder:"Cari Perpindahan Material",clearable:"",loading:o(c),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),t(u,{cols:"12"},{default:e(()=>[t(V,null,{default:e(()=>[t(y,{headers:b,items:o(k),loading:o(c),"search-value":o(m),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-date":e(a=>[l(r(o(C)(a.date)),1)]),"item-observation_ratio_percentage":e(a=>[l(r(o(f)(a.observation_ratio_percentage)),1)]),"item-truck_capacity":e(a=>[l(r(o(d)(a.truck_capacity))+" m³ ",1)]),"item-observation_ratio_number":e(a=>[l(r(o(d)(a.observation_ratio_number))+" m³ ",1)]),"item-solid_ratio":e(a=>[l(r(o(f)(a.solid_ratio)),1)]),"item-solid_volume_estimate":e(a=>[l(r(o(d)(a.solid_volume_estimate))+" m³ ",1)]),"item-operation":e(a=>[t(s,{to:{name:"admin-material-movement-edit",params:{id:a.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[l(" Ubah ")]),_:2},1032,["to"]),t(s,{to:{name:"admin-material-movement-view",params:{id:a.id}},color:"info",size:"small"},{default:e(()=>[l(" Detail ")]),_:2},1032,["to"]),t(s,{color:"error",size:"small",class:"m-5",onClick:()=>M(a)},{default:e(()=>[l(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{$ as default};
