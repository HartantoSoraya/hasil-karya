import{P as _,j as Q,r as i,Q as X,X as z,l as E,n as J,q as t,c as o,S as b,I as B,T as W,x as l,s as Y}from"./index-d8570b98.js";import{u as x}from"./gasOperator-497adca5.js";import{u as Z}from"./fuelLog-8188d5dc.js";import{u as L}from"./driver-4b8ac86d.js";import{u as P}from"./heavyVehicle-a6827fb6.js";import{u as H}from"./station-56b545b2.js";import{V as u,b as $,a as D}from"./VRow-ae8b4a94.js";import{V as ee}from"./VForm-c95c40f9.js";import{V as h}from"./VTextField-d53f6a8a.js";import{V as y}from"./VAutocomplete-90f07087.js";import{V as le}from"./VTextarea-c1327748.js";import"./VGrid-aa4a8c47.js";import"./forwardRefs-49923578.js";import"./VSelect-e5c25370.js";import"./VMenu-f39875ea.js";import"./VOverlay-f87aa014.js";import"./VSelectionControl-d26b90d8.js";const ae=Y("h2",{class:"mb-0"}," Ubah Data Pengisian BBM Alat Berat ",-1),be={__name:"edit-fuel-log-heavy-vehicle",setup(oe){const{drivers:F}=_(L()),{heavyVehicles:T}=_(P()),{stations:w}=_(H()),{fetchDrivers:A}=L(),{fetchHeavyVehicles:K}=P(),{fetchStations:O}=H();A(),K(),O();const R=Q(),{gasOperators:C,loading:N,error:a}=_(x()),{fetchGasOperators:j}=x();j();const{fetchFuelLog:G,updateFuelLogHeavyVehicle:I}=Z(),S=R.params.id,m=i(""),d=i(""),n=i(""),v=i(""),c=i(""),p=i(""),M=i("diesel"),f=i(""),V=i(""),g=i(""),U=async()=>{try{const s=await G(S);m.value=s.code,d.value=s.date,n.value=s.gas_operator.id,v.value=s.heavy_vehicle.id,c.value=s.driver.id,p.value=s.station.id,M.value=s.fuel_type,f.value=s.volume*1,V.value=s.hourmeter*1,g.value=s.remarks}catch(s){console.error(s)}};X(()=>{U(),document.title="Ubah Data Pengisian BBM Alat Berat"}),z(()=>{k(),a.value=null});const q=()=>{I({id:S,code:m.value,date:d.value,gas_operator_id:n.value,heavy_vehicle_id:v.value,driver_id:c.value,station_id:p.value,fuel_type:M.value,volume:f.value,hourmeter:V.value,remarks:g.value})},k=()=>{U()};return(s,r)=>(E(),J(D,null,{default:t(()=>[o(u,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:t(()=>[ae,o(b,{to:"/admin/fuel-log",color:"primary"},{default:t(()=>[B(" Kembali ")]),_:1})]),_:1}),o(u,{cols:"12"},{default:t(()=>[o($,null,{default:t(()=>[o(ee,{onSubmit:W(q,["prevent"])},{default:t(()=>[o(D,null,{default:t(()=>[o(u,{cols:"12",md:"6"},{default:t(()=>[o(h,{modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=e=>m.value=e),label:"Kode",placeholder:"Kode","error-messages":l(a)&&l(a).code?[l(a).code]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(h,{modelValue:d.value,"onUpdate:modelValue":r[1]||(r[1]=e=>d.value=e),label:"Tanggal",placeholder:"Tanggal Mulai",type:"datetime-local","error-messages":l(a)&&l(a).date?[l(a).date]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(y,{modelValue:n.value,"onUpdate:modelValue":r[2]||(r[2]=e=>n.value=e),items:l(C),label:"Solar Man",placeholder:"Pilih Solar Man","error-messages":l(a)&&l(a).gas_operator_id?[l(a).gas_operator_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(y,{modelValue:c.value,"onUpdate:modelValue":r[3]||(r[3]=e=>c.value=e),items:l(F),label:"Driver",placeholder:"Pilih Driver","error-messages":l(a)&&l(a).driver_id?[l(a).driver_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(y,{modelValue:v.value,"onUpdate:modelValue":r[4]||(r[4]=e=>v.value=e),items:l(T),label:"Alat Berat",placeholder:"Pilih Alat Berat","error-messages":l(a)&&l(a).heavy_vehicle_id?[l(a).heavy_vehicle_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(y,{modelValue:p.value,"onUpdate:modelValue":r[5]||(r[5]=e=>p.value=e),items:l(w),label:"POS",placeholder:"Pilih POS","error-messages":l(a)&&l(a).station_id?[l(a).station_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(h,{modelValue:f.value,"onUpdate:modelValue":r[6]||(r[6]=e=>f.value=e),label:"Volume BBM (L)",placeholder:"Masukan Volume BBM (L)","error-messages":l(a)&&l(a).volume?[l(a).volume]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(h,{modelValue:V.value,"onUpdate:modelValue":r[7]||(r[7]=e=>V.value=e),label:"Hourmeter (HM)",placeholder:"Masukan Hourmeter (HM)","error-messages":l(a)&&l(a).hourmeter?[l(a).hourmeter]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",md:"12"},{default:t(()=>[o(le,{modelValue:g.value,"onUpdate:modelValue":r[8]||(r[8]=e=>g.value=e),label:"Keterangan",placeholder:"Keterangan","error-messages":l(a)&&l(a).remarks?[l(a).remarks]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[o(b,{type:"submit",loading:l(N),color:"primary"},{default:t(()=>[B(" Simpan ")]),_:1},8,["loading"]),o(b,{color:"secondary",variant:"tonal",onClick:k},{default:t(()=>[B(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{be as default};
